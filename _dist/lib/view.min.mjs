/*! ****************************************************************************
 * View v0.0.8
 *
 * A companion View library for building web applications.
 * (you can download it from npm or github repositories)
 * Copyright (c) 2020 Mobilabs <contact@mobilabs.fr> (http://www.mobilabs.fr).
 * Released under the MIT license. You may obtain a copy of the License
 * at: http://www.opensource.org/licenses/mit-license.php).
 * Built from ES6Kadoo v0.0.0-beta.9.
 * ************************************************************************** */
/*! Generated by Kadoo v0.0.0-beta.6 */
const $__ES6GLOB={};!function(t,e){"use strict";"function"==typeof define&&define.amd?define([""],e):"object"==typeof exports?module.exports=e(t):t.View=e(t)}($__ES6GLOB,t=>{"use strict";let e={src:{view:{},component:{main:{},hyperscript:{},diffing:{},generic:{},$:{},render:{},util:{},animate:{}},renderer:{main:{}},lib:{_:{}}},libin:{}};return e.extend=function(t,e){for(var n=Object.keys(e),i=0;i<n.length;i++)t[n[i]]=e[n[i]]},function(t,e){"function"==typeof define&&define.amd?define([""],e):"object"==typeof exports?(module.exports=e(t),t.Messenger=e(t)):t.Messenger=e(t)}(e.libin,t=>{let e,n;return function(){const i=t.Messenger;let r;e=function(){const t=Object.create(r);return t._db={},t},e.VERSION="0.0.5",e.noConflict=function(){return t.Messenger=i,this},r={subscribe(t,e){return n.subscribe(this._db,t,e),this},subscribeOnce(t,e){return n.subscribeOnce(this._db,t,e),this},unsubscribe(t,e){return n.unsubscribe(this._db,t,e),this},publish(t,e){return n.publish(this._db,t,e),this}}}(),function(){function t(t,e){"string"==typeof e&&function(t,e){Object.prototype.hasOwnProperty.call(t,e)||(t[e]={listeners:[],listenersOnce:[]})}(t,e)}n={subscribe(e,n,i){!function(e,n,i){t(e,n),"string"==typeof n&&"function"==typeof i&&Object.prototype.hasOwnProperty.call(e,n)&&e[n].listeners.push(i)}(e,n,i)},subscribeOnce(e,n,i){!function(e,n,i){t(e,n),"string"==typeof n&&"function"==typeof i&&Object.prototype.hasOwnProperty.call(e,n)&&e[n].listenersOnce.push(i)}(e,n,i)},unsubscribe(t,e,n){!function(t,e,n){let i;"string"==typeof e&&"function"==typeof n&&Object.prototype.hasOwnProperty.call(t,e)&&(i=t[e].listeners.indexOf(n),i>=0&&t[e].listeners.splice(i,1),i=t[e].listenersOnce.indexOf(n),i>=0&&t[e].listenersOnce.splice(i,1))}(t,e,n)},publish(t,e,n){!function(t,e,n){if("string"==typeof e&&Object.prototype.hasOwnProperty.call(t,e)){for(let i=0;i<t[e].listeners.length;i++)t[e].listeners[i](n);for(let i=0;i<t[e].listenersOnce.length;i++)t[e].listenersOnce[i](n);t[e].listenersOnce.splice(0,t[e].listenersOnce.length)}}(t,e,n)}}}(),e}),function(){const n=e.src.component.main,i=e.src.renderer.main,{_:r}=e.src.lib,s=e.src.component.hyperscript,o=e.src.component.diffing,c=t.View,l={_setTestMode:()=>[r,n.Component,s,o],noConflict(){return t.View=c,this},Component:t=>n.Component(t),render:t=>i.render(t),restore:t=>i.restore(t),append:t=>i.append(t),prepend:t=>i.prepend(t),remove:t=>i.remove(t),VERSION:"0.0.8"};e.src.view=l}(),function(){const{_:t}=e.src.lib,n=e.src.component.generic,i=e.src.component.$,r=e.src.component.render;function s(e){let r;const s=function(){return this instanceof s?n.Construct.apply(this,r):(r=arguments,new s)},o=t.assign({},n.methods),c=t.assign(o,{$:i.$});return s.prototype=t.assign(c,e||{}),s.prototype.constructor=s,s}s._attachChild=function(t,e,n,i){r.attachChild(t,e,n,i)},s._removeChild=function(t,e){r.removeChild(t,e)},e.extend(e.src.component.main,{Component:s})}(),function(){const{Messenger:t}=e.libin,n=e.src.component.main,{_:i}=e.src.lib;function r(t){if(t._cList){const e=Object.keys(t._cList);for(let n=0;n<e.length;n++)t._cList[e[n]].events(),r(t._cList[e[n]])}}function s(t,e){if(t._cList){const n=Object.keys(t._cList);for(let i=0;i<n.length;i++)t._cList[n[i]]._mess=e,s(t._cList[n[i]],e)}}function o(t){const e={el:"body",children:null,template:"<div></div>"};return t.el&&(!i.isString(t.el)||"#"!==t.el.charAt(0)&&"."!==t.el.charAt(0)?i.isObject(t.el)&&t.el.namespaceURI?e.el=t.el:console.log("warning: el must be an id, a class or a node element!"):e.el=t.el),i.isString(t.template)&&(t.template.includes("<div")||t.template.includes("<header")||t.template.includes("<footer"))?e.template=t.template:console.log("warning: template must be an XMLString starting with <div or <header or <footer!"),e.children=t.children,e}function c(t){const e=i.isString(t.el)?document.querySelector(t.el):t.el;"body"===t.el?e.innerHTML+=t.template:e.innerHTML=t.template}function l(e){const l=o(e);if(!e.children&&!e.template)return function(e){const r=o(e);if("body"===r.el)return null;let s;s=i.isString(r.el)?document.querySelector(r.el):r.el;const c=s.outerHTML,l=s.getAttribute("id");l&&s.removeAttribute("id");const a=s.outerHTML;let u={};e.methods&&(u=e.methods);const d=n.Component(i.extend(u,{render:()=>a}))(),h=d._renderer(),p=document.createElement("template");p.innerHTML=h;const f=p.content.firstChild;return s.parentNode.replaceChild(f,s),l&&(f.setAttribute("id",l),d.id=l),d._mess=t(),d._initialXMLNode=c,d}(e);if(!l.children)return c(l),null;const a=n.Component({render(){return this.name="firstparent",this.children=l.children,l.template}})();return l.template=a._renderer(),c(l),a._mess=t(),s(a,a._mess),r(a),a}function a(t,e,n,r){const s=t.$getChild(e)._renderer();n?i.isString(n)&&t.$(n)[0]?"first"===r?t.$(n).prepend(s):t.$(n).appendHTML(s):(console.log("warning: View.append: params.el is not valid! Component appended to the parent node."),"first"===r?t.$().prepend(s):t.$().appendHTML(s)):"first"===r?t.$().prepend(s):t.$().appendHTML(s)}function u(t,e){const{root:o}=t,{children:c}=t,{el:l}=t;let u,d,h,p,f,m,{parent:g}=t;if(g||(g=o),i.isString(g)){if(!i.isObject(o)||!Object.prototype.hasOwnProperty.call(o,"_cList"))return console.log("warning: View.append: params.root is not valid!"),null;if(u=o.$getChild(g),!u)return console.log(`warning: View.append: ${g} does not exist!`),null}else{if(!i.isObject(g)||!Object.prototype.hasOwnProperty.call(g,"_cList"))return console.log(`warning: View.append: ${g} is improperly defined!`),null;u=g}if(!i.isLiteralObject(c))return console.log("warning: View.append: params.children is not valid!"),null;const b=Object.keys(c);for(let t=0;t<b.length;t++){if(m=b[t],d=c[b[t]],i.isLiteralObject(d))p=d.fn,f=d.options;else{if(!i.isFunction(d))return console.log("warning: View.append: params.children is not valid!"),null;p=d,f=void 0}n.Component._attachChild(u,p,f,m),a(u,m,l,e),h=u.$getChild(m),h._mess=u._mess,s(h,u._mess),h.events(),r(h)}return!0}const d={render:t=>l(t),restore:t=>function(t){if(t&&t._initialXMLNode){const e=document.createElement("template");e.innerHTML=t._initialXMLNode;const n=e.content.firstChild;return t.$()[0].parentNode.replaceChild(n,t.$()[0]),!0}return!1}(t),append:t=>u(t),prepend:t=>u(t,"first"),remove:t=>function(t){const{root:e}=t,{parent:r}=t,{children:s}=t;let o;if(i.isString(r)){if(!i.isObject(e)||!Object.prototype.hasOwnProperty.call(e,"_cList"))return console.log("warning: View.append: params.root is not valid!"),null;if(o=e.$getChild(r),!o)return console.log(`warning: View.append: ${r} does not exist!`),null}else{if(!i.isObject(r)||!Object.prototype.hasOwnProperty.call(r,"_cList"))return console.log(`warning: View.append: ${r} is improperly defined!`),null;o=r}if(!i.isString(s))return console.log("warning: View.append: params.children is not valid!"),null;const c=o.$getChild(s),l=o.$("#"+c.id)[0];return o.$("#"+c.id).parent().removeChild(l),n.Component._removeChild(o,s),!0}(t)};e.extend(e.src.renderer.main,d)}(),function(){const t={extend(t,e){const n=Object.keys(e);for(let i=0;i<n.length;i++)t[n[i]]=e[n[i]];return t},assign(){const t=arguments[0];let e,n,i;for(i=1;i<arguments.length;i++)e=arguments[i],n=Object.keys(e).reduce((t,n)=>(t[n]=Object.getOwnPropertyDescriptor(e,n),t),{});return Object.defineProperties(t,n),t},isString:t=>"[object String]"===Object.prototype.toString.call(t),isNumber:t=>"[object Number]"===Object.prototype.toString.call(t),isObject(t){const e=typeof t;return("function"===e||"object"===e)&&!!t},isLiteralObject:t=>"[object Object]"===Object.prototype.toString.call(t),isFunction:t=>"[object Function]"===Object.prototype.toString.call(t),isArray:t=>"[object Array]"===Object.prototype.toString.call(t)};e.extend(e.src.lib._,t)}(),function(){const{_:t}=e.src.lib;function n(t){const e=Object.keys(t);let n="";for(let i=0;i<e.length;i++)n+=i<e.length-1?`${e[i]}: ${t[e[i]]}; `:`${e[i]}: ${t[e[i]]};`;return n}const i={render(e,i){const r={};return function(t,e,n){const i=Object.keys(n);for(let r=0;r<i.length;r++)t=t.replace(`</${i[r].toLowerCase()}>`,"").replace(i[r].toLowerCase(),i[r]+" /"),e[`<${i[r]} />`]=n[i[r]];return t}((new XMLSerializer).serializeToString(function e(i,r){const{nodeName:s}=i,{attributes:o}=i,{children:c}=i;let l,a,u,d,h,p;if(t.isString(i))return document.createTextNode(i);switch(typeof s){case"string":for(l=document.createElement(s),a=o?Object.keys(o):[],p=0;p<a.length;p++)u=t.isObject(o[a[p]])?n(o[a[p]]):o[a[p]],l.setAttribute(a[p],u);break;case"function":d=s(),d.render?(h=o&&o.name?o.name:"C"+Math.random().toString(36).substr(2,7),r[h]={fn:s,options:o.options?o.options:null},l=e({nodeName:h,attributes:null,children:[]},r)):l=e(d,r);break;default:throw new Error(`hypserscript._render: nodeName is a ${typeof s} ???`)}for(p=0;p<c.length;p++)l.appendChild(e(c[p],r));return l}(e,r)).replace('xmlns="http://www.w3.org/1999/xhtml"',""),i,r)}};e.extend(e.src.component.hyperscript,i)}(),function(){function t(t){return 3===t.nodeType?"text":8===t.nodeType?"comment":t.tagName.toLowerCase()}function n(t){return t.children&&t.children.length>0?null:t.textContent}const i={stringToHTML:t=>function(t){return(new DOMParser).parseFromString(t,"text/html").body.firstChild}(t),diff:(e,i)=>function e(i,r){const s=Array.prototype.slice.call(i.children),o=Array.prototype.slice.call(r.children);let c=o.length-s.length;if(c>0)for(;c>0;c--)o[o.length-c].parentNode.removeChild(o[o.length-c]);s.forEach((i,s)=>{if(!o[s])return void r.appendChild(i.cloneNode(!0));if(t(i)!==t(o[s]))return void o[s].parentNode.replaceChild(i.cloneNode(!0),o[s]);const c=n(i);if(c&&c!==n(o[s])&&(o[s].textContent=c),(i.hasAttributes()||o[s].hasAttributes())&&function(t,e){const n=t.getAttributeNames(),i=e.getAttributeNames();for(let i=0;i<n.length;i++){const r=n[i],s=e.attributes.getNamedItem(r),o=t.getAttribute(r),c=e.getAttribute(r);s&&c===o||e.setAttribute(r,o)}for(let t=0;t<i.length;t++)-1===n.indexOf(i[t])&&e.removeAttribute(i[t])}(i,o[s]),o[s].children.length>0&&i.children.length<1)o[s].innerHTML="";else{if(o[s].children.length<1&&i.children.length>0){const t=document.createDocumentFragment();e(i,t),o[s].appendChild(t)}i.children.length>0&&e(i,o[s])}})}(e,i)};e.extend(e.src.component.diffing,i)}(),function(){const{_:t}=e.src.lib,n=e.src.component.render,i=e.src.component.util;const r={_init(e){return this._tag=null,this._cList=null,this._mess=null,this.id="i"+Math.random().toString(36).substr(2,7),this.children=null,this.props={},this.props.options=t.isLiteralObject(arguments[0])?arguments[0]:{},this.props.options=e,this.name="mynameisnobody",this.init(),this},_renderer(){return n.render(this)},$:null,$hyperscript(t,e){const n=[];for(let t=2;t<arguments.length;t++)n.push(arguments[t]);return{nodeName:t,attributes:e,children:n}},$getIdAndName(){return{id:this.id,name:this.name}},$getChildren(){return i.getChildren(this)},$getChild(t){return i.getChild(this,t)},$show(){return this.$().css("display","block"),this},$hide(){return this.$().css("display","none"),this},$listen(t,e){return this._mess.subscribe(t,e),this},$emit(t,e){return this._mess.publish(t,e),this},init(){return this},events(){return this},render:()=>"<div></div>"};e.extend(e.src.component.generic,{Construct:function(){this._init.apply(this,arguments)},methods:r})}(),function(){const t=e.src.component.animate,n=e.src.component.diffing;e.extend(e.src.component.$,{$:function(e){const i=this.id;let r,s;return e?r=document.querySelector("#"+i).querySelector(e):(r=document.querySelector("#"+i),s=r),{0:r,id:r?r.id:null,_root:s,select:function(t){if("string"==typeof t&&this[0]){const e=this[0].querySelector(t);e&&(this[0]=e)}return this},selectChild:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(this[0]=this[0].children[t]?this[0].children[t]:this[0]),this},parent:function(){return this._root?this[0]!==this._root&&(this[0]=this[0].parentNode):this[0]=this[0].parentNode,this},firstParent:function(){return this._root&&(this[0]=this._root),this},find:function(t){return this[0].querySelectorAll(t)},tag:function(){return this[0]?this[0].tagName:null},html:function(t){return t?(this[0].innerHTML=t,this):this[0].innerHTML},empty:function(){for(;this[0].firstChild;)this[0].removeChild(this[0].firstChild);return this},append:function(t){const e=document.createElement(t);return this[0]=this[0].appendChild(e),this},appendTextChild:function(t){return this[0].appendChild(document.createTextNode(t)),this},appendBefore:function(t,e){const n=document.createElement(t),i=this[0].querySelector(e);return this[0].insertBefore(n,i),this[0]=n,this},appendAfter:function(t,e){const n=document.createElement(t),i=this[0].querySelector(e).nextElementSibling;return this[0].insertBefore(n,i),this[0]=n,this},replace:function(t){const e=document.createElement(t);return this[0].parentNode.replaceChild(e,this[0]),this[0]=e,this},appendHTML:function(t){return"string"==typeof t&&this[0].insertAdjacentHTML("beforeend",t),this},prepend:function(t){return"string"==typeof t&&this[0].insertAdjacentHTML("afterbegin",t),this},after:function(t){return"string"==typeof t&&this[0].id!==i&&this[0].insertAdjacentHTML("afterend",t),this},before:function(t){return"string"==typeof t&&this[0].id!==i&&this[0].insertAdjacentHTML("beforebegin",t),this},replaceWith:function(t){const e=this[0],n=e.parentNode,r=document.createElement("div");if("string"==typeof t&&e.id!==i){r.innerHTML=t;const i=r.firstChild;n.replaceChild(i,e),this[0]=i}return this},text:function(t){return void 0!==t?(this[0].textContent=t,this):this[0].textContent},clone:function(t){return!0===t||!1===t?this[0].cloneNode(t):this[0].cloneNode(!0)},firstChild:function(){return this[0].firstElementChild},insertChildBefore:function(t,e){return t&&this[0].insertBefore(t,e),this},removeChild:function(t){return t&&this[0].removeChild(t),this},replaceChild:function(t,e){return t&&this[0].replaceChild(t,e),this},children:function(){return this[0].children},childIndex:function(){let t=this[0],e=0;for(;null!==t;)t=t.previousElementSibling,e+=1;return e-1},getRect:function(){return this[0]?this[0].getBoundingClientRect():null},css:function(t,e){const n="string"==typeof t?t.split("-"):[];let i="";for(let t=0;t<n.length;t++)i+=0===t?n[t]:n[t].charAt(0).toUpperCase()+n[t].slice(1);return e?(this[0].style[i]=e,this):this[0].style[i]},getClassList:function(){return this[0].classList},addClass:function(t){return this[0].classList.add(t),this},addClasses:function(t){if(Array.isArray(t))for(let e=0;e<t.length;e++)this[0].classList.add(t[e]);return this},removeClass:function(t){return this[0].classList.remove(t),this},removeClasses:function(t){if(Array.isArray(t))for(let e=0;e<t.length;e++)this[0].classList.remove(t[e]);return this},toggleClass:function(t){return this[0].classList.toggle(t),this},hasClass:function(t){const e=this[0].classList.value.split(" ");return"[object String]"===Object.prototype.toString.call(t)&&-1!==e.indexOf(t)},attr:function(t,e){return e?(this[0].setAttribute(t,e),this):this[0].getAttribute(t)},removeAttr:function(t){return t&&this[0].removeAttribute(t),this},animate:function(...e){return t.animate(this[0],...e),this},diff:function(t){return n.diff(n.stringToHTML(t),this[0]),this},on:function(t,e){return this[0].addEventListener(t,e),this},off:function(t,e){return this[0].removeEventListener(t,e),this},trigger:function(t){return this[0].dispatchEvent(new Event(t))}}}})}(),function(){const{_:t}=e.src.lib,n=e.src.component.hyperscript;function i(e){let i,r;if(i=e.render(),t.isLiteralObject(i)&&t.isString(i.nodeName)&&(e.children={},i=n.render(i,e.children)),r=i.match(/^\s*<div/)?i.replace(/^\s*<div/,`<div id="${e.id}"`):i.match(/^\s*<header/)?i.replace(/^\s*<header/,`<header id="${e.id}"`):i.match(/^\s*<footer/)?i.replace(/^\s*<footer/,`<footer id="${e.id}"`):i,e.children){e.children=function(e){if(!t.isLiteralObject(e))return{};const n={},i=Object.keys(e);let r;for(let s=0;s<i.length;s++)r=i[s],t.isFunction(e[r])?n[r]={fn:e[r],options:null}:t.isLiteralObject(e[r])&&t.isFunction(e[r].fn)?n[r]={fn:e[r].fn,options:e[r].options}:(n[r]={fn:null,options:null},console.log('warning: this component list is invalid. key "c" is missing!'));return n}(e.children),e._cList={};const n=Object.keys(e.children);let i,s;for(let o=0;o<n.length;o++)i=n[o],t.isFunction(e.children[i].fn)?(s=e.children[i].fn(e.children[i].options),s._tag=i,r=r.replace(i,s._renderer()),e._cList[i.replace(/[^a-zA-z0-9]/g,"")]=s):console.log(`warning: there is no component associated to this tag: ${i}!`)}return r}const r={render:t=>i(t),attachChild(t,e,n,i){!function(t,e,n,i){const r=e(n);r._tag=i,t._cList||(t._cList={}),t.children||(t.children={}),t._cList[r._tag.replace(/[^a-zA-z0-9]/g,"")]=r,t.children[i]={fn:e,options:n}}(t,e,n,i)},removeChild(e,n){!function(e,n){t.isString(n)&&t.isLiteralObject(e._cList)&&(delete e._cList[n.replace(/[^a-zA-z0-9]/g,"")],delete e.children[n])}(e,n)}};e.extend(e.src.component.render,r)}(),function(){const{_:t}=e.src.lib;const n={getChildren:t=>t._cList?function(t){const e=Object.keys(t._cList),n=[];for(let i=0;i<e.length;i++)n.push({id:t._cList[e[i]].id,name:t._cList[e[i]].name});return n}(t):null,getChild:(e,n)=>n&&t.isString(n)?function t(e,n){if(!e._cList)return null;const i=Object.keys(e._cList);let r;for(let s=0;s<i.length;s++){if(r=i[s],n===e._cList[r]._tag||n===e._cList[r].id||n===e._cList[r].name)return e._cList[r];const o=t(e._cList[r],n);if(o)return o}return null}(e,n):null};e.extend(e.src.component.util,n)}(),function(){const{_:t}=e.src.lib;function n(t,e,n,i){return n*(.5-Math.cos(t/i*Math.PI)/2)+e}function i(e){const n=t.isString(e)?e.split("-"):[];let i="";for(let t=0;t<n.length;t++)i+=0===t?n[t]:n[t].charAt(0).toUpperCase()+n[t].slice(1);return i}function r(t,e,n,r,s,o){const c=function(t,e){const n=Object.keys(e),r=window.getComputedStyle(t),s={},o=[];let c,l,a,u;for(let d=0;d<n.length;d++)c=i(n[d]),l=r.getPropertyValue(c),l&&(o.push(c),l=parseFloat(l,10),u=e[n[d]].replace(/[0-9.]/g,""),"%"===u&&(a=parseFloat(window.getComputedStyle(t.parentNode).getPropertyValue(c)),l=l/a*100),s[c]={initial:l,change:parseFloat(e[n[d]])-l,suffix:u});return s.name=o,s}(t,e),l=t;let a,u=0;const d=setInterval(()=>{for(let t=0;t<c.name.length;t++)a=n(u,c[c.name[t]].initial,c[c.name[t]].change,r),l.style[c.name[t]]=a+c[c.name[t]].suffix;u+=s,u>r&&(clearInterval(d),o&&o())},s)}const s={animate(e,i,...s){if(!t.isLiteralObject(i))return;const o=function(...e){const n=e[0],i=e[1],r=e[2];let s,o,c,l;switch(s=n||i||r?!n||i||i?n&&i&&!r?2:3:1:0,s){case 0:break;case 1:t.isNumber(n)||"fast"===n||"slow"===n?o=n:t.isString(n)?c=n:t.isFunction(n)&&(l=n);break;case 2:t.isNumber(n)||"fast"===n||"slow"===n?(o=n,t.isString(i)?c=i:t.isFunction(i)&&(l=i)):t.isString(n)&&(c=n,t.isFunction(i)&&(l=i));break;case 3:(t.isNumber(n)||"fast"===n||"slow"===n)&&(o=n),t.isString(i)&&(c=i),t.isFunction(r)&&(l=r)}return{duration:o,easing:c,callback:l}}(...s),c=t.isNumber(o.duration)&&o.duration>0?o.duration:"fast"===(l=o.duration)?200:"slow"===l?600:400;var l;r(e,i,window.Easing&&window.Easing[o.easing]?window.Easing[o.easing]:n,c,10,o.callback?o.callback:null)}};e.extend(e.src.component.animate,s)}(),e.src.view});export default $__ES6GLOB.View;